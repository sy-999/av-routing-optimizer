average_Q = [
    62.00, 636.24, 15.52, 224174.032363, 71501.230273;
    62.00, 640.57, 10.89, 197600.798617, 63025.646981;
    61.00, 640.57, 13.77, 205862.156275, 65660.661939;
    58.00, 640.57, 13.53, 216477.382087, 69046.345395;
    58.00, 640.57, 11.25, 194263.802010, 61961.190464;
    70.00, 640.57, 12.55, 192689.124062, 61459.492405;
    60.00, 640.57, 14.27, 203615.200906, 64943.872349;
    65.00, 640.57, 10.70, 203497.420584, 64906.486368;
    71.00, 640.57, 19.80, 225142.332501, 71810.536535;
    69.00, 640.57, 12.84, 204603.282762, 65259.475405;
    57.00, 640.57, 12.93, 199789.052560, 63723.465381;
    59.00, 640.57, 12.35, 213469.874807, 68087.009528;
    58.00, 640.57, 12.30, 214634.852187, 68458.593393;
    60.00, 636.24, 15.41, 226049.928236, 72099.416975;
    67.00, 631.91, 16.26, 240096.663661, 76579.886689;
    67.00, 636.24, 13.60, 217245.609288, 69291.575372;
    72.00, 631.91, 15.33, 224241.372592, 71522.885091;
    69.00, 631.91, 16.50, 234591.990059, 74824.221378;
    70.00, 631.91, 16.87, 239334.540401, 76336.974485;
    60.00, 631.91, 16.09, 268782.818495, 85729.034371;
];

average_fixed = [
    114.00, 640.57, 56.11, 270564.976529, 86299.201318;
    140.00, 640.57, 93.80, 331761.512981, 105819.178066;
    139.00, 640.57, 91.67, 313889.972623, 100118.785854;
    140.00, 640.57, 92.59, 331124.205552, 105615.706122;
    140.00, 640.57, 97.39, 356001.844949, 113550.871274;
    142.00, 640.57, 93.52, 319089.430453, 101777.244277;
    60.00, 640.57, 13.63, 199873.425606, 63750.461711;
    76.00, 640.57, 28.09, 251648.336908, 80264.904170;
    72.00, 640.57, 24.18, 237389.936130, 75716.755381;
    54.00, 640.57, 12.72, 222624.022470, 71006.633320;
    69.00, 640.57, 22.33, 236479.914883, 75426.408600;
    68.00, 640.57, 22.26, 243992.090697, 77822.358605;
    141.00, 640.57, 92.93, 311898.057340, 99483.505457;
    136.00, 640.57, 90.88, 298076.684558, 95074.974713;
    95.00, 640.57, 52.28, 288876.434208, 92139.104646;
    94.00, 640.57, 49.44, 281700.083552, 89850.042604;
    134.00, 640.57, 89.59, 345886.459771, 110324.183791;
    132.00, 640.57, 88.16, 302702.285801, 96550.142748;
    133.00, 640.57, 82.89, 292902.585702, 93424.540791;
    90.00, 640.57, 43.21, 279806.723805, 89246.144654;
];


average_sumo = [
    76.00, 640.57, 17.85, 219820.671354, 70113.380202;
    60.00, 640.57, 13.15, 220497.003193, 70328.403138;
    61.00, 640.57, 13.70, 207206.379684, 66089.331054;
    62.00, 640.57, 14.88, 210140.420092, 67025.206956;
    58.00, 640.57, 14.90, 214009.349505, 68258.986975;
    60.00, 640.57, 11.56, 208934.862864, 66640.724997;
    63.00, 640.57, 16.09, 208156.850610, 66392.521953;
    61.00, 640.57, 12.55, 214925.934027, 68551.441232;
    71.00, 640.57, 24.25, 245309.243160, 78242.690263;
    56.00, 640.57, 14.57, 225062.391875, 71784.383685;
    69.00, 640.57, 22.73, 225234.028191, 71839.382941;
    70.00, 640.57, 23.23, 247570.102671, 78963.704966;
    141.00, 640.57, 93.20, 322898.786235, 102992.511633;
    61.00, 636.24, 14.50, 235565.991108, 75134.702108;
    59.00, 636.24, 14.52, 232010.619722, 74000.544969;
    60.00, 636.24, 14.27, 236258.828520, 75355.623227;
    61.00, 636.24, 15.33, 235396.756071, 75080.729464;
    60.00, 636.24, 14.80, 235368.538579, 75071.652967;
    66.00, 636.24, 15.34, 221358.349010, 70603.169277;
    62.00, 636.24, 14.98, 222038.483876, 70820.017390;
];





% Load datasets
data1 = average_fixed();
data2 = average_sumo();
data3 = average_Q();

% Extract columns for each parameter
durations = [mean(data1(:, 1)), mean(data2(:, 1)), mean(data3(:, 1))];
routeLengths = [mean(data1(:, 2)), mean(data2(:, 2)), mean(data3(:, 2))];
timeLosses = [mean(data1(:, 3)), mean(data2(:, 3)), mean(data3(:, 3))];
co2Emissions = [mean(data1(:, 4)), mean(data2(:, 4)), mean(data3(:, 4))];
fuelConsumptions = [mean(data1(:, 5)), mean(data2(:, 5)), mean(data3(:, 5))];

% Combine parameters into a matrix for grouped bars
parameters = [
    durations;
    routeLengths;
    timeLosses;
    co2Emissions;
    fuelConsumptions
];

% Custom dataset names and parameter labels
datasetNames = {'Fixed route', 'SUMO generated', 'Q-learning'};
parameterNames = {'Duration', 'Route Length', 'Time Loss', 'CO2 Emissions', 'Fuel Consumption'};

% Custom colors for datasets
customColors = [
    1, 0, 0;   % Red for Dataset 1
    0, 1, 0;   % Green for Dataset 2
    0, 0, 1    % Blue for Dataset 3
];

% Loop through each parameter to plot
for i = 1:size(parameters, 1)
    figure;

    % Create a bar plot with custom colors
    b = bar(parameters(i, :));
    b.FaceColor = 'flat';
    for j = 1:length(customColors)
        b.CData(j, :) = customColors(j, :);
    end
    
    % Set title, labels, and grid
    title(['Comparison of ', parameterNames{i}, ' Across Datasets']);
    xlabel('Datasets');
    ylabel(parameterNames{i});
    xticks(1:3);
    xticklabels(datasetNames); % Use custom names for datasets
    grid on;
end

